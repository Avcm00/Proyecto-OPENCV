<!-- templates/recomendations/beard_style_form.html -->
{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="mb-8">
      <div class="flex items-center gap-4 mb-4">
        <a href="{% url 'recomendations:beard_styles_list' %}" 
           class="text-gray-600 hover:text-gray-900 transition">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
          </svg>
        </a>
        <h1 class="text-3xl font-bold text-gray-900">{{ title }}</h1>
      </div>
    </div>

    <!-- Formulario -->
    <div class="bg-white rounded-lg shadow-sm p-8 border-t-4 border-gray-800">
      <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}
        
        <!-- Información Básica -->
        <div class="border-b border-gray-200 pb-6">
          <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <i class='bx bx-info-circle text-gray-800 text-2xl mr-2'></i>
            Información Básica
          </h2>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Nombre -->
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Nombre del Estilo *
              </label>
              {{ form.name }}
              {% if form.name.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.name.errors.0 }}</p>
              {% endif %}
            </div>

            <!-- Descripción -->
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Descripción *
              </label>
              {{ form.description }}
              {% if form.description.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.description.errors.0 }}</p>
              {% endif %}
            </div>

            <!-- URL de Imagen -->
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-2">
                URL de la Imagen *
              </label>
              {% if beard_style.image_url %}
                <img src="{{ beard_style.image_url }}" alt="{{ beard_style.name }}" class="w-32 h-32 object-cover rounded-lg mb-2">
              {% endif %}
              {{ form.image_url }}
              {% if form.image_url.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.image_url.errors.0 }}</p>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Características -->
        <div class="border-b border-gray-200 pb-6">
          <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <i class='bx bx-male text-gray-800 text-2xl mr-2'></i>
            Características
          </h2>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Nivel de Mantenimiento -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Nivel de Mantenimiento (1-5) *
              </label>
              {{ form.maintenance_level }}
              {% if form.maintenance_level.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.maintenance_level.errors.0 }}</p>
              {% endif %}
            </div>

            <!-- Tiempo de Crecimiento -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Tiempo de Crecimiento (semanas) *
              </label>
              {{ form.growth_time_weeks }}
              {% if form.growth_time_weeks.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.growth_time_weeks.errors.0 }}</p>
              {% endif %}
            </div>

            <!-- Popularidad -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Puntuación de Popularidad (1-10) *
              </label>
              {{ form.popularity_score }}
              {% if form.popularity_score.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.popularity_score.errors.0 }}</p>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Formas de Rostro -->
        <div class="border-b border-gray-200 pb-6">
          <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <i class='bx bx-user text-gray-800 text-2xl mr-2'></i>
            Formas de Rostro Compatibles
          </h2>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Formas de Rostro (separadas por coma) *
            </label>
            {{ form.suitable_shapes }}
            <p class="mt-1 text-xs text-gray-500">Ejemplo: Ovalado, Redondo, Cuadrado</p>
            {% if form.suitable_shapes.errors %}
              <p class="mt-1 text-sm text-red-600">{{ form.suitable_shapes.errors.0 }}</p>
            {% endif %}
          </div>
        </div>

        <!-- Instrucciones de Cuidado -->
        <div class="border-b border-gray-200 pb-6">
          <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <i class='bx bx-clipboard text-gray-800 text-2xl mr-2'></i>
            Instrucciones de Cuidado
          </h2>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Instrucciones de Cuidado y Mantenimiento
            </label>
            {{ form.care_instructions }}
            {% if form.care_instructions.errors %}
              <p class="mt-1 text-sm text-red-600">{{ form.care_instructions.errors.0 }}</p>
            {% endif %}
          </div>
        </div>

        <!-- Botones de Acción -->
        <div class="flex gap-4 pt-4">
          <button type="submit" 
                  class="flex-1 bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg transition shadow-md">
            {{ button_text }}
          </button>
          <a href="{% url 'recomendations:beard_styles_list' %}" 
             class="flex-1 text-center bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-lg transition">
            Cancelar
          </a>
        </div>
      </form>
    </div>

  </div>
</div>

<style>
  input[type="text"], input[type="number"], textarea, select {
    @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent;
  }
  textarea {
    @apply min-h-[120px];
  }
  input[type="file"] {
    @apply text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-100 file:text-gray-800 hover:file:bg-gray-200;
  }
</style>
{% endblock %}